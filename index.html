<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Peta Informasi Negara Dunia</title>
<style>
  body {
    margin: 0;
    font-family: Arial, sans-serif;
    /* background: #eef2f7; */
    background: #1b67c4;
    text-align: center;
  }
  h2 {
    margin: 20px 0;
  }
  #map {
    width: 90%;
    max-width: 1200px;
    margin: auto;
  }
  svg {
    width: 100%;
    height: auto;
  }
  .country {
    fill: #cfd8dc;
    stroke: #333;
    stroke-width: 0.5;
    cursor: pointer;
    transition: 0.2s;
  }
  .country:hover {
    /* fill: #90caf9; */
    fill: #07b80d;
  }
  .tooltip {
    position: absolute;
    background: rgba(0,0,0,0.8);
    color: white;
    padding: 6px 10px;
    border-radius: 5px;
    font-size: 14px;
    pointer-events: none;
    display: none;
  }
  .popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    border-radius: 10px;
    padding: 20px;
    width: 300px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    display: none;
    z-index: 1000;
  }
  .popup img {
    width: 80px;
    height: auto;
    margin: 10px 0;
  }
  .popup button {
    background: #f44336;
    border: none;
    padding: 8px 15px;
    color: white;
    border-radius: 6px;
    cursor: pointer;
    margin-top: 10px;
  }
  /* menu kiri */
    .wrapper {
      display: flex;
      transition: transform 0.3s ease;
    }

    /* Sidebar */
    .sidebar {
      width: 250px;
      height: 100vh;
      background-color: #333;
      color: white;
      padding: 1em;
      position: fixed;
      top: 0;
      left: -280px;
      z-index: 1000;
      transition: left 0.3s ease;
      text-align: left;
    }

    .sidebar.open {
      left: 0;
    }

    .sidebar h2 {
      color: #fff;
    }

    .sidebar a {
      display: block;
      color: #ccc;
      padding: 10px 0;
      text-decoration: none;
    }

    .sidebar a:hover {
      color: #fff;
    }

    /* Overlay (untuk HP) */
    .overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.3);
      z-index: 999;
      display: none;
    }

    .overlay.active {
      display: block;
    }

    .menu-btn {
      position: fixed;
      top: 1rem;
      left: 1rem;
      font-size: 24px;
      cursor: pointer;
      z-index: 1100;
      background: #fff;
      padding: 5px 10px;
      border-radius: 5px;
    }
</style>
</head>
<body>
    <div class="menu-btn" onclick="toggleSidebar()">â˜°</div>

  <div class="sidebar" id="sidebar">
    <center><img src="https://boymohlis.github.io/Madura-Dictionary/madura.png" width="70px" height="70px" style="border-radius: 50%; border-color: white; border-style: solid;"></center><hr>
    <h2>Menu</h2><hr>
    <a href="index.html">Beranda</a>
    <a href="https://ra-adirasa.blogspot.com/">R.A. Adirasa</a>
    <a href="help.html">Cara Pakai</a>
    <a href="about.html">Tentang Aplikasi</a>
  </div>

  <div class="overlay" id="overlay" onclick="toggleSidebar()"></div>
  
  <h2>Peta Informasi Negara Dunia</h2>
  <div id="map"></div>
  <div class="tooltip" id="tooltip"></div>
  <div class="popup" id="popup">
    <h3 id="countryName"></h3>
    <img id="countryFlag" src="" alt="Flag">
    <p><b>Ibukota:</b> <span id="countryCapital"></span></p>
    <p><b>Benua:</b> <span id="countryContinent"></span></p>
    <button onclick="closePopup()">Tutup</button>
  </div>

  <script src="https://d3js.org/d3.v6.min.js"></script>
  <script src="https://unpkg.com/topojson@3"></script>
  <script>
    const tooltip = document.getElementById("tooltip");
    const popup = document.getElementById("popup");
    const countryName = document.getElementById("countryName");
    const countryFlag = document.getElementById("countryFlag");
    const countryCapital = document.getElementById("countryCapital");
    const countryContinent = document.getElementById("countryContinent");

    const width = 960;
    const height = 500;

    const svg = d3.select("#map").append("svg")
      .attr("width", width)
      .attr("height", height);

    const projection = d3.geoMercator()
      .scale(150)
      .translate([width / 2, height / 1.5]);

    const path = d3.geoPath().projection(projection);

    // Contoh data negara (bisa ditambah lengkap)
    const countryData = {
      "Indonesia": {capital: "Jakarta", continent: "Asia", flag: "https://flagpedia.net/data/flags/w1160/id.webp"},
      "United States": {capital: "Washington, D.C.", continent: "Amerika Utara", flag: "https://flagcdn.com/w320/us.png"},
      "France": {capital: "Paris", continent: "Eropa", flag: "https://flagcdn.com/w320/fr.png"}
    };

    d3.json("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json").then(world => {
      const countries = topojson.feature(world, world.objects.countries).features;

      svg.selectAll(".country")
        .data(countries)
        .enter().append("path")
        .attr("class", "country")
        .attr("d", path)
        .on("mousemove", function(event, d) {
          const countryNameText = d.properties.name;
          tooltip.style.display = "block";
          tooltip.style.left = (event.pageX + 10) + "px";
          tooltip.style.top = (event.pageY - 20) + "px";
          tooltip.innerHTML = countryNameText;
        })
        .on("mouseout", function() {
          tooltip.style.display = "none";
        })
        .on("click", function(event, d) {
          const name = d.properties.name;
          if (countryData[name]) {
            countryName.textContent = name;
            countryFlag.src = countryData[name].flag;
            countryCapital.textContent = countryData[name].capital;
            countryContinent.textContent = countryData[name].continent;
            popup.style.display = "block";
          } else {
            countryName.textContent = name;
            countryFlag.src = "";
            countryCapital.textContent = "Tidak tersedia";
            countryContinent.textContent = "Tidak tersedia";
            popup.style.display = "block";
          }
        });
    });

    function closePopup() {
      popup.style.display = "none";
    }
  </script>
  </script>
<!-- menu -->
  <script>
    function toggleSidebar() {
      const sidebar = document.getElementById("sidebar");
      const overlay = document.getElementById("overlay");

      sidebar.classList.toggle("open");
      overlay.classList.toggle("active");
    }

  </script>
</body>
</html>
